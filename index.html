<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Arial, sans-serif; background:#f5f6fa; margin:0; padding:0; transition:background 0.3s, color 0.3s; }
    .navbar { display:flex; justify-content:space-between; align-items:center; padding:12px 20px; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,0.05); position:sticky; top:0; z-index:100; transition:background 0.3s, color 0.3s; }
    .navbar .logo { font-size:18px; font-weight:bold; color:#3b82f6; }
    .navbar .title { font-size:16px; color:#374151; margin-left:12px; }
    .navbar-left { display:flex; align-items:center; }

    .grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:20px; padding:20px; }
    .card { background:white; border-radius:16px; padding:20px; box-shadow:0 4px 10px rgba(0,0,0,0.05); transition:background 0.3s, color 0.3s; }
    .title { font-size:14px; color:#888; margin-bottom:6px; }
    .value { font-size:32px; font-weight:bold; }
    .positive { color:#16a34a; font-size:14px; }
    .progress-bar { background:#e5e7eb; border-radius:10px; overflow:hidden; height:12px; margin-top:10px; }
    .progress { background:#3b82f6; height:12px; }

    .dark-mode { background:#1f2937; color:#f9fafb; }
    .dark-mode .card { background:#374151; color:#f9fafb; }
    .dark-mode .title { color:#d1d5db; }
    .dark-mode .navbar { background:#111827; color:#f9fafb; }
    .dark-mode .navbar .title { color:#f9fafb; }

    .toggle-btn { padding:8px 16px; border:none; border-radius:8px; cursor:pointer; background:#3b82f6; color:white; }
  </style>
</head>
<body>
  <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->
  <div class="navbar">
    <div class="navbar-left">
      <div class="logo">üìä MyDash</div>
      <div class="title">Dashboard</div>
    </div>
    <button class="toggle-btn" onclick="toggleDarkMode()">üåô ÂàáÊç¢Ê®°Âºè</button>
  </div>

  <div class="grid">
    <div class="card">
      <div class="title">Now</div>
      <div class="value" id="solBalance">$0.00</div>
      <div class="positive">ÁéØÊØî‰∏äÂë® ‚ñ≤20.57%</div>
    </div>
    <div class="card">
      <div class="title">Âë®ÂèëÂ∏ÉËßÜÈ¢ëÊï∞</div>
      <div class="value">11</div>
      <div class="positive">ÁéØÊØî‰∏äÂë® ‚ñ≤1</div>
    </div>
    <div class="card">
      <div class="title">rate</div>
      <canvas id="pieChart" height="150"></canvas>
    </div>
    <div class="card">
      <div class="title">Everyday</div>
      <div class="value">62.50%</div>
      <div class="progress-bar">
        <div class="progress" style="width:62.5%"></div>
      </div>
      <div class="title">ÂΩìÂâç 25 | ÁõÆÊ†á 40</div>
    </div>
  </div>

  <div class="card" style="margin:20px;">
    <div class="title">7daysÂèòÂåñ</div>
    <canvas id="barChart" height="200"></canvas>
  </div>

  <script>
    // Fetching SOL balance dynamically (for example, from Solscan API or using a scraping method)
    async function fetchSolBalance() {
      const solAddress = 'A9NBEQeCYzvqidFnh7UVZsBrW2T5df4cqnBjxCBQRJ88';
      const solscanUrl = `https://api.solscan.io/account/${solAddress}`;
      try {
        // Use a proper API or method to get the balance (this is just a placeholder)
        const response = await fetch(solscanUrl);
        const data = await response.json();

        // Assuming 'balance' is the field containing the SOL balance
        const solBalance = data.balance;  // Replace with actual field path based on API response
        const solValue = (solBalance * 182.93).toFixed(2); // Example: convert SOL to USD (based on current rate)
        
        // Update the value on the page
        document.getElementById('solBalance').innerText = `${solBalance} SOL ($${solValue})`;
      } catch (error) {
        console.error("Error fetching SOL balance:", error);
      }
    }

    fetchSolBalance();

    const ctx1 = document.getElementById('pieChart').getContext('2d');
    new Chart(ctx1, {
      type: 'pie',
      data: {
        labels: ['DE: 6','LS: 5'],
        datasets: [{ data:[6,5], backgroundColor:['#06b6d4','#3b82f6'] }]
      }
    });

    const ctx2 = document.getElementById('barChart').getContext('2d');
    new Chart(ctx2, {
      data: {
        labels: ['7/27-8/2','8/3-8/9','8/10-8/16'],
        datasets: [
          { type:'bar', label:'Living Stone', data:[87600,97600,86700], backgroundColor:'#3b82f6' },
          { type:'line', label:'Living Stone CTR', data:[9.7,9.63,9.52], borderColor:'#f97316', yAxisID:'y1' }
        ]
      },
      options: {
        scales: {
          y: { beginAtZero:true, max:100000 },
          y1: { beginAtZero:true, position:'right', max:10 }
        }
      }
    });

    function toggleDarkMode(){
      document.body.classList.toggle('dark-mode');
    }
  </script>
</body>
</html>
